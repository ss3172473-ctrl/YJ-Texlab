<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>THE ARCHIVE | 혁신하며, 영진하다</title>
    <link rel="stylesheet" href="/style.css">
</head>

<body>
    <div class="noise-overlay"></div>
    <div class="cursor-dot"></div>
    <nav id="main-nav">
        <div class="logo-box">
            <img src="./public/images/logos/yj_texlab_logo.png" alt="YJ TEXLAB" class="main-logo">
        </div>
        <ul class="nav-links">
            <li><a href="/">HOME</a></li>
            <li><a href="/archive.html">THE NARRATIVE</a></li>
            <li><a href="/lines.html">THE LINES</a></li>
            <li><a href="/firsts.html">THE FIRSTS</a></li>
            <li><a href="/certified.html">YEONGJIN CERTIFIED</a></li>
            <li><a href="/contact.html">CONTACT</a></li>
        </ul>
    </nav>

    <div class="narrative-header">
        <span class="chapter-no" id="header-chapter-no"></span>
        <h2 class="chapter-title" id="header-chapter-title"></h2>
    </div>

    <main class="archive-slider">
        <!-- Slide 0: Prologue -->
        <section class="slide active" id="slide-0" data-chapter-no="THE NARRATIVE: PROLOGUE"
            data-chapter-title="Prologue: 옷 뒤에 숨은 60년의 시선">
            <div class="chapter-bg"></div>
            <div class="chapter-wrap">
                <div class="chapter-content">
                    사람들은 옷의 겉모습을 보지만,<br>
                    우리는 그 옷을 지탱하는 원단의 '생애'를 봅니다.<div class="para-gap"></div>
                    1960년대 대구의 거친 숨결부터<br>
                    2026년 첨단 공정의 매끄러움까지.<div class="para-gap"></div>
                    3대에 걸쳐 이어져 온 것은 단순한 가업이 아니라,<br>
                    품질에 대해 결코 타협하지 않겠다는<br>
                    ‘안목의 계보’입니다.
                </div>
            </div>
        </section>

        <!-- Slide 1: Roots -->
        <section class="slide" id="slide-1" data-chapter-no="THE NARRATIVE: CHAPTER 1"
            data-chapter-title="Roots (1960s): 길게 나아가는 근본, ‘영진(永進)’">
            <div class="chapter-bg"></div>
            <div class="chapter-wrap">
                <div class="chapter-content">
                    모든 시작은 1960년대 대구, 할아버지의 ‘영진상사’였습니다.<div class="para-gap"></div>
                    당시 대한민국 섬유 가공의 심장이었던 '서도산업'에서<br>
                    원단 가공 물량으로 다섯 손가락 안에 들 만큼 영진의 기세는 대단했습니다.<div class="para-gap"></div>
                    할아버지와 할머니께서는 번거롭고 까다로운 ‘선염(先染)’ 공정만을 고집하셨습니다.<div class="para-gap"></div>
                    “길게 나아가라(永進)"는 이름의 뜻처럼,<br>
                    한 번을 입어도 변치 않는 원단의 근본을 아들에게 남겼습니다.
                </div>
            </div>
        </section>

        <!-- Slide 2: Philosophy (Part 1) -->
        <section class="slide" id="slide-2" data-chapter-no="THE NARRATIVE: CHAPTER 2"
            data-chapter-title="Philosophy (1990s): 분유의 철학">
            <div class="chapter-bg"></div>
            <div class="chapter-wrap">
                <div class="chapter-content">
                    1999년 12월, IMF의 한복판에서, 아버지는 차 한대와 500만 원을 들고 무작정 서울로 향했습니다.<br>
                    상경 후 1년간 지독한 고달픔이 시작되었습니다.<div class="para-gap"></div>
                    통장 잔고는 단돈 2만 원. 당시 마트의 분유들은 잔인하게도 가격 순으로 정렬되어있었습니다.<br>
                    어머니와 아버지는 당연하듯 가장 오른쪽에 있는 5만 원짜리 임페리얼 분유를 집어들었습니다.<div class="para-gap"></div>
                    아무것도 모르는 아기의 입에 들어가는 가루일지라도<br>
                    그들에겐 절대 타협할 수 없는 무언가였나봅니다.
                </div>
            </div>
        </section>

        <!-- Slide 3: Philosophy (Part 2) -->
        <section class="slide" id="slide-3" data-chapter-no="THE NARRATIVE: CHAPTER 2"
            data-chapter-title="Philosophy (1990s): 분유의 철학">
            <div class="chapter-bg"></div>
            <div class="chapter-wrap">
                <div class="chapter-content">
                    이 선택은 곧 하나의 철학이 되었습니다.<br>
                    경쟁사들이 원가를 낮추기 위해 공정을 생략할 때에도,<br>
                    아버지는 다시 한 번 타협하지 않았습니다.<div class="para-gap"></div>
                    영진의 피를 이은 그에게 원단의 품질은<br>
                    결코 타협의 대상이 아니었습니다.
                </div>
            </div>
        </section>

        <!-- Slide 4: Breakthrough -->
        <section class="slide" id="slide-4" data-chapter-no="THE NARRATIVE: CHAPTER 3"
            data-chapter-title="The Breakthrough (2000s): 30일간의 인사, 그리고 기적">
            <div class="chapter-bg"></div>
            <div class="chapter-wrap">
                <div class="chapter-content">
                    가난함에 이대로 무너질 수 없었던 아버지는<br>
                    무작정 원단 샘플 몇 개를 들고 동대문 새벽시장으로 나갔습니다.<div class="para-gap"></div>
                    새벽 1시부터 5시까지, 차가운 시장 바닥에서 아버지가 할 수 있는 건 매일 인사하는 것뿐이었습니다.<div class="para-gap"></div>
                    30일째 되는 날, 한 업체 사장이 그를 불러 세웠습니다.<br>
                    "맨날 인사만 하지 말고 이리 와봐. 뭘 파는 거야?"<div class="para-gap"></div>
                    아버지가 내민 원단은 할아버지 때부터 내려온 정통 선염 가공이 된 고품질 원단이었습니다.<br>
                    "가격만 맞으면 쓰겠다"는 확답과 함께 첫 거래가 터졌습니다.
                </div>
            </div>
        </section>

        <!-- Slide 5: Growth (Part 1) -->
        <section class="slide" id="slide-5" data-chapter-no="THE NARRATIVE: CHAPTER 4"
            data-chapter-title="Growth (2010s): 장사꾼이 아닌 ‘개발자’의 길">
            <div class="chapter-bg"></div>
            <div class="chapter-wrap">
                <div class="chapter-content">
                    아버지는 단순히 원단을 떼어다 파는 상인이 아니었습니다.<br>
                    섬유공학을 전공한 그는 원단의 패턴과 소재를 직접 설계하는 ‘원단 개발자’로서 자신의 시대를 열었습니다.<div class="para-gap"></div>
                    국내 최초의 양면 스트라이프 원단과 독창적인 앵커 패턴,<br>
                    그리고 고도화된 암모니아 공법 등은 모두 그의 설계도에서 탄생했습니다.
                </div>
            </div>
        </section>

        <!-- Slide 6: Growth (Part 2) -->
        <section class="slide" id="slide-6" data-chapter-no="THE NARRATIVE: CHAPTER 4"
            data-chapter-title="Growth (2010s): 장사꾼이 아닌 ‘개발자’의 길">
            <div class="chapter-bg"></div>
            <div class="chapter-wrap">
                <div class="chapter-content">
                    시장은 그 정직한 고집을 신뢰로 알아주었습니다.<br>
                    대한민국 셔츠 2벌 중 1벌에 아버지의 원단이 쓰이는 전성기가 찾아왔고,<br>
                    삼성물산, LF, 빈폴 등 국내 유수의 브랜드들이 그의 설계를 선택했습니다.<div class="para-gap"></div>
                    이 안목은 일본의 까다로운 품질 기준을 통과하며,<br>
                    글로벌 시장의 '보이지 않는 거장'으로 자리매김했습니다.
                </div>
            </div>
        </section>

        <!-- Slide 7: Future -->
        <section class="slide" id="slide-7" data-chapter-no="THE NARRATIVE: CHAPTER 5"
            data-chapter-title="Future (Today): 혁신(革新)하며 영진(永進)하다">
            <div class="chapter-bg"></div>
            <div class="chapter-wrap">
                <div class="chapter-content">
                    이제 3대째인 손자가 그 서사를 이어받습니다.<br>
                    할아버지의 '영진(永進)'과 아버지의 '혁신(革新)'을 합쳐,<br>
                    [革新하며, 永進하다]라는 기치를 세웁니다.<div class="para-gap"></div>
                    우리는 단순히 천을 파는 곳이 아닙니다.<br>
                    60년 넘게 축적된 데이터 속에 담긴<br>
                    '시간이 증명한 안목'을 제안합니다.<div class="para-gap"></div>
                    우리가 찍는 인장(Tag)은 약속입니다.<br>
                    당신의 옷이 60년의 무게를 견디고도 변함없이 빛날 것이라는,<br>
                    가문의 명예를 건 약속입니다.
                </div>
            </div>
        </section>

        <div class="archive-dots">
            <div class="dot active" data-slide="0"><span class="dot-label">PROLOGUE</span></div>
            <div class="dot" data-slide="1"><span class="dot-label">ROOTS</span></div>
            <div class="dot" data-slide="2"><span class="dot-label">PHILOSOPHY I</span></div>
            <div class="dot" data-slide="3"><span class="dot-label">PHILOSOPHY II</span></div>
            <div class="dot" data-slide="4"><span class="dot-label">BREAKTHROUGH</span></div>
            <div class="dot" data-slide="5"><span class="dot-label">GROWTH I</span></div>
            <div class="dot" data-slide="6"><span class="dot-label">GROWTH II</span></div>
            <div class="dot" data-slide="7"><span class="dot-label">FUTURE</span></div>
        </div>
    </main>

    <script type="module">
        import { gsap } from 'gsap';

        let currentSlide = 0;
        const slides = document.querySelectorAll('.slide');
        const dots = document.querySelectorAll('.dot');
        const headerTitle = document.getElementById('header-chapter-title');
        const headerNo = document.getElementById('header-chapter-no');
        let isAnimating = false;

        // Initialize Header
        const updateHeader = (index) => {
            const slide = slides[index];
            const title = slide.getAttribute('data-chapter-title');
            const no = slide.getAttribute('data-chapter-no');

            // Initial set
            if (!headerTitle.innerText) {
                headerTitle.innerText = title;
                headerNo.innerText = no;
                return;
            }

            // Check if title changed
            if (headerTitle.innerText !== title) {
                gsap.to([headerTitle, headerNo], {
                    y: -20,
                    opacity: 0,
                    duration: 0.5,
                    onComplete: () => {
                        headerTitle.innerText = title;
                        headerNo.innerText = no;
                        gsap.fromTo([headerTitle, headerNo],
                            { y: 20, opacity: 0 },
                            { y: 0, opacity: 1, duration: 0.5 }
                        );
                    }
                });
            }
            // If title is same (e.g. Part 1 -> Part 2), do NOTHING to header. It stays fixed.
        };

        // Run once on load
        updateHeader(0);

        const goToSlide = (index) => {
            if (isAnimating || index === currentSlide) return;
            isAnimating = true;

            const direction = index > currentSlide ? 1 : -1;
            const prevSlide = slides[currentSlide];
            const nextSlide = slides[index];

            // Update Header (checks for equality internally)
            updateHeader(index);

            // Set initial state for next slide
            gsap.set(nextSlide, {
                xPercent: direction * 100,
                opacity: 0,
                visibility: 'visible',
                scale: 1.05
            });

            const tl = gsap.timeline({
                onComplete: () => {
                    prevSlide.classList.remove('active');
                    prevSlide.style.visibility = 'hidden';
                    nextSlide.classList.add('active');
                    currentSlide = index;
                    isAnimating = false;
                }
            });

            tl.to(prevSlide, {
                xPercent: -direction * 30, // Parallax move out
                opacity: 0,
                scale: 0.95,
                duration: 1.2,
                ease: "expo.inOut"
            })
                .to(nextSlide, {
                    xPercent: 0,
                    opacity: 1,
                    scale: 1,
                    duration: 1.2,
                    ease: "expo.inOut"
                }, "<")
                .to(nextSlide.querySelector('.chapter-content'), {
                    y: 0,
                    opacity: 1,
                    duration: 0.8,
                    ease: "power2.out"
                }, "-=0.4");

            // Update Navigation
            dots.forEach(d => d.classList.remove('active'));
            dots[index].classList.add('active');
        };

        dots.forEach((dot, i) => {
            dot.addEventListener('click', () => goToSlide(i));
        });

        // Wheel support
        window.addEventListener('wheel', (e) => {
            if (isAnimating) return;
            if (e.deltaY > 50 && currentSlide < slides.length - 1) {
                goToSlide(currentSlide + 1);
            } else if (e.deltaY < -50 && currentSlide > 0) {
                goToSlide(currentSlide - 1);
            }
        });
    </script>
    <script type="module" src="/main.js"></script>
</body>

</html>